 const hamburger=document.querySelector('.hamburger');const navMenu=document.querySelector('.nav-menu');hamburger.addEventListener('click',()=>{hamburger.classList.toggle('active');navMenu.classList.toggle('active');});document.querySelectorAll('.nav-link').forEach(n=> n.addEventListener('click',()=>{hamburger.classList.remove('active');navMenu.classList.remove('active');}));document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function (e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if (target){const offsetTop=target.offsetTop-70;window.scrollTo({top: offsetTop,behavior: 'smooth'});}});});window.addEventListener('scroll',()=>{const navbar=document.querySelector('.navbar');if (window.scrollY > 100){navbar.style.backgroundColor='rgba(255,255,255,0.95)';navbar.style.backdropFilter='blur(10px)';}else{navbar.style.backgroundColor='#FFFFFF';navbar.style.backdropFilter='none';}});const galleryItems=document.querySelectorAll('.gallery-item');const lightbox=document.getElementById('lightbox');const lightboxImg=document.getElementById('lightbox-img');const closeBtn=document.querySelector('.close');galleryItems.forEach(item=>{item.addEventListener('click',()=>{const img=item.querySelector('.gallery-img');lightboxImg.src=img.src;lightboxImg.alt=img.alt;lightbox.style.display='block';document.body.style.overflow='hidden';});});closeBtn.addEventListener('click',()=>{lightbox.style.display='none';document.body.style.overflow='auto';});lightbox.addEventListener('click',(e)=>{if (e.target===lightbox){lightbox.style.display='none';document.body.style.overflow='auto';}});document.addEventListener('keydown',(e)=>{if (e.key==='Escape' && lightbox.style.display==='block'){lightbox.style.display='none';document.body.style.overflow='auto';}});const contactForm=document.getElementById('contactForm');contactForm.addEventListener('submit',(e)=>{e.preventDefault();const formData=new FormData(contactForm);const name=formData.get('name');const email=formData.get('email');const message=formData.get('message');if (!name || !email || !message){alert('Please fill in all fields');return;}if (!isValidEmail(email)){alert('Please enter a valid email address');return;}const submitBtn=contactForm.querySelector('.submit-button');const originalText=submitBtn.textContent;submitBtn.textContent='Sending...';submitBtn.disabled=true;setTimeout(()=>{alert('Thank you for your message! We will get back to you soon.');contactForm.reset();submitBtn.textContent=originalText;submitBtn.disabled=false;},2000);});function isValidEmail(email){const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return emailRegex.test(email);}const observerOptions={threshold: 0.1,rootMargin: '0px 0px-50px 0px'};const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if (entry.isIntersecting){entry.target.classList.add('visible');}});},observerOptions);document.addEventListener('DOMContentLoaded',()=>{const animateElements=document.querySelectorAll('.service-item,.stat-card,.gallery-item,.contact-item');animateElements.forEach(el=>{el.classList.add('fade-in');observer.observe(el);});});function animateCounters(){const counters=document.querySelectorAll('.stat-number');counters.forEach(counter=>{const target=parseInt(counter.textContent.replace(/[^\d]/g,''));const duration=2000;const step=target/(duration/16);let current=0;const timer=setInterval(()=>{current+=step;if (current >=target){current=target;clearInterval(timer);}if (counter.textContent.includes('%')){counter.textContent=Math.floor(current)+'%';}else if (counter.textContent.includes(',')){counter.textContent=Math.floor(current).toLocaleString();}else{counter.textContent=Math.floor(current);}},16);});}const workSection=document.querySelector('#work');const workObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if (entry.isIntersecting){animateCounters();workObserver.unobserve(entry.target);}});},{threshold: 0.5});workObserver.observe(workSection);function preloadImages(){const imageUrls=[ 'img/gallery/_DSF9200.JPG','img/gallery/_DSF9194.JPG','img/gallery/_DSF9190.JPG','img/gallery/_DSF9188.JPG','img/gallery/_DSF9185.JPG','img/gallery/_DSF9179.JPG' ];imageUrls.forEach(url=>{const img=new Image();img.src=url;});}window.addEventListener('load',preloadImages);document.querySelectorAll('.gallery-img').forEach(img=>{img.addEventListener('load',function(){this.style.opacity='1';});img.addEventListener('error',function(){this.style.opacity='0.5';this.style.filter='grayscale(100%)';this.alt='Image not available';});});window.addEventListener('scroll',()=>{const scrolled=window.pageYOffset;const hero=document.querySelector('.hero');const rate=scrolled*-0.5;if (hero){hero.style.transform=`translateY(${rate}px)`;}});window.addEventListener('scroll',()=>{const sections=document.querySelectorAll('section[id]');const navLinks=document.querySelectorAll('.nav-link');let current='';sections.forEach(section=>{const sectionTop=section.offsetTop-100;const sectionHeight=section.clientHeight;if (window.pageYOffset >=sectionTop && window.pageYOffset < sectionTop+sectionHeight){current=section.getAttribute('id');}});navLinks.forEach(link=>{link.classList.remove('active');if (link.getAttribute('href')===`#${current}`){link.classList.add('active');}});});const style=document.createElement('style');style.textContent=` .nav-link.active{color: var(--primary-orange) !important;}.nav-link.active::after{width: 100% !important;}.gallery-img{opacity: 0;transition: opacity 0.3s ease;}`;document.head.appendChild(style);const viewMoreBtn=document.getElementById('viewMoreBtn');const fullGalleryModal=document.getElementById('fullGalleryModal');const modalClose=document.querySelector('.modal-close');const fullGalleryGrid=document.getElementById('fullGalleryGrid');const allGalleryImages=[{src: 'img/gallery/_DSF9200.JPG',alt: 'Young meerkat receiving veterinary care during rehabilitation at Chayah Kalahari Project'},{src: 'img/gallery/_DSF9194.JPG',alt: 'Meerkat mob socializing in natural Kalahari desert habitat during rehabilitation'},{src: 'img/gallery/_DSF9190.JPG',alt: 'Meerkat rehabilitation activities and survival skills training at Chayah facility'},{src: 'img/gallery/_DSF9188.JPG',alt: 'Stunning Kalahari desert landscape where meerkats are rehabilitated and released'},{src: 'img/gallery/_DSF9185.JPG',alt: 'Successful meerkat release back into the wild Kalahari desert environment'},{src: 'img/gallery/_DSF9179.JPG',alt: 'Conservation work and meerkat monitoring in the Kalahari desert ecosystem'},{src: 'img/gallery/_XPN5438.JPG',alt: 'Meerkat family group in their natural Kalahari desert environment'},{src: 'img/gallery/_XPN5433.JPG',alt: 'Meerkat standing guard while others forage in the desert landscape'},{src: 'img/gallery/_XPN5406.JPG',alt: 'Meerkat rehabilitation progress showing natural behaviors restored'},{src: 'img/gallery/_XPN5343.JPG',alt: 'Meerkat mob interaction and social bonding during rehabilitation'},{src: 'img/gallery/_XPN5340.JPG',alt: 'Meerkat exploring rehabilitated habitat in the Kalahari desert'},{src: 'img/gallery/_XPN5334.JPG',alt: 'Meerkat receiving specialized care and attention from conservation team'},{src: 'img/gallery/_XPN5333.JPG',alt: 'Meerkat showing natural foraging behaviors in desert environment'},{src: 'img/gallery/_XPN5316.JPG',alt: 'Meerkat family unit demonstrating successful rehabilitation outcomes'},{src: 'img/gallery/_XPN5307.JPG',alt: 'Meerkat social interaction and communication in natural habitat'},{src: 'img/gallery/_XPN5304.JPG',alt: 'Meerkat rehabilitation facility showing professional care standards'},{src: 'img/gallery/_XPN5246.JPG',alt: 'Meerkat release preparation and final health checks before return to wild'},{src: 'img/gallery/_DSF9227.JPG',alt: 'Meerkat conservation work and habitat monitoring in Kalahari desert'},{src: 'img/gallery/_DSF9225.JPG',alt: 'Meerkat rehabilitation success story showing natural behaviors'},{src: 'img/gallery/_DSF9220.JPG',alt: 'Meerkat family dynamics and social structure in rehabilitation'},{src: 'img/gallery/_DSF9216.JPG',alt: 'Meerkat adaptation to natural desert environment during rehabilitation'},{src: 'img/gallery/_DSF9214.JPG',alt: 'Meerkat conservation education and community outreach activities'},{src: 'img/gallery/_DSF9202.JPG',alt: 'Meerkat rehabilitation facility and professional care environment'}];function populateFullGallery(){fullGalleryGrid.innerHTML='';allGalleryImages.forEach((image,index)=>{const galleryItem=document.createElement('div');galleryItem.className='full-gallery-item';galleryItem.innerHTML=` <img src="${image.src}" alt="${image.alt}" class="full-gallery-img" loading="lazy"> `;galleryItem.addEventListener('click',()=>{lightboxImg.src=image.src;lightboxImg.alt=image.alt;lightbox.style.display='block';document.body.style.overflow='hidden';});fullGalleryGrid.appendChild(galleryItem);});}viewMoreBtn.addEventListener('click',()=>{populateFullGallery();fullGalleryModal.style.display='block';document.body.style.overflow='hidden';});modalClose.addEventListener('click',()=>{fullGalleryModal.style.display='none';document.body.style.overflow='auto';});fullGalleryModal.addEventListener('click',(e)=>{if (e.target===fullGalleryModal){fullGalleryModal.style.display='none';document.body.style.overflow='auto';}});document.addEventListener('keydown',(e)=>{if (e.key==='Escape'){if (fullGalleryModal.style.display==='block'){fullGalleryModal.style.display='none';document.body.style.overflow='auto';}if (lightbox.style.display==='block'){lightbox.style.display='none';document.body.style.overflow='auto';}}});